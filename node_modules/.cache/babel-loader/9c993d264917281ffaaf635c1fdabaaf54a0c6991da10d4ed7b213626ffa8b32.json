{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vinay Hajare\\\\React Projects\\\\music-streaming-frontend\\\\src\\\\components\\\\Discover\\\\FollowArtist.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport api from \"../../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FollowArtist = () => {\n  _s();\n  const [artists, setArtists] = React.useState([]); // List of artists\n  const [error, setError] = React.useState(\"\"); // Error message\n  const {\n    user\n  } = useAuth(); // Get user details\n\n  // Fetch artists on component load\n  useEffect(() => {\n    const fetchArtists = async () => {\n      try {\n        const response = await api.get(\"/artists\");\n        setArtists(response.data);\n        setError(\"\");\n      } catch (error) {\n        setError(\"Failed to fetch artists. Please try again later.\");\n      }\n    };\n    fetchArtists();\n  }, []);\n\n  // Handle follow/unfollow artist\n  const toggleFollow = async (artistId, isFollowing) => {\n    try {\n      if (isFollowing) {\n        await api.delete(`/discover/unFollowArtist`, {\n          username: user.username,\n          artistId: artistId\n        });\n      } else {\n        await api.post(`/discover/followArtist`, {\n          username: user.username,\n          artistId: artistId\n        });\n      }\n\n      // Update the local state\n      setArtists(prevArtists => prevArtists.map(artist => artist.id === artistId ? {\n        ...artist,\n        isFollowing: !isFollowing\n      } : artist));\n    } catch (error) {\n      setError(\"Failed to follow artist. Please try again later.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-music-background text-white p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-music-primary mb-4\",\n      children: \"Discover and Follow Artists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-500 p-3 rounded mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: artists.map(artist => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded p-4 shadow hover:shadow-lg transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold\",\n          children: artist.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-music-secondary\",\n          children: artist.genre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toggleFollow(artist.id, artist.isFollowing),\n          className: `mt-4 py-2 px-4 rounded ${artist.isFollowing ? \"bg-red-600 hover:bg-red-700\" : \"bg-music-primary hover:bg-green-600\"}`,\n          children: artist.isFollowing ? \"Unfollow\" : \"Follow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, artist.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(FollowArtist, \"BL01haIMobpg0Jhago3uyQxoC0Y=\", false, function () {\n  return [useAuth];\n});\n_c = FollowArtist;\nexport default FollowArtist;\nvar _c;\n$RefreshReg$(_c, \"FollowArtist\");","map":{"version":3,"names":["React","useEffect","useAuth","api","jsxDEV","_jsxDEV","FollowArtist","_s","artists","setArtists","useState","error","setError","user","fetchArtists","response","get","data","toggleFollow","artistId","isFollowing","delete","username","post","prevArtists","map","artist","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","genre","onClick","_c","$RefreshReg$"],"sources":["D:/Vinay Hajare/React Projects/music-streaming-frontend/src/components/Discover/FollowArtist.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useAuth } from \"../../hooks/useAuth\"\r\nimport api from \"../../utils/api\";\r\n\r\nconst FollowArtist = () => {\r\n  const [artists, setArtists] = React.useState([]); // List of artists\r\n  const [error, setError] = React.useState(\"\"); // Error message\r\n  const { user } = useAuth(); // Get user details\r\n\r\n  // Fetch artists on component load\r\n  useEffect(() => {\r\n    const fetchArtists = async () => {\r\n      try {\r\n        const response = await api.get(\"/artists\");\r\n        setArtists(response.data);\r\n        setError(\"\");\r\n      } catch (error) {\r\n        setError(\"Failed to fetch artists. Please try again later.\");\r\n      }\r\n    };\r\n    fetchArtists();\r\n  }, []);\r\n\r\n  // Handle follow/unfollow artist\r\n  const toggleFollow = async (artistId, isFollowing) => {\r\n    try {\r\n      if (isFollowing) {\r\n        await api.delete(`/discover/unFollowArtist`, {\r\n          username: user.username,\r\n          artistId: artistId,\r\n        });\r\n      } else {\r\n        await api.post(`/discover/followArtist`, {\r\n          username: user.username,\r\n          artistId: artistId,\r\n        });\r\n      }\r\n\r\n      // Update the local state\r\n      setArtists((prevArtists) =>\r\n        prevArtists.map((artist) =>\r\n          artist.id === artistId\r\n            ? { ...artist, isFollowing: !isFollowing }\r\n            : artist\r\n        )\r\n      );\r\n    } catch (error) {\r\n      setError(\"Failed to follow artist. Please try again later.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-music-background text-white p-6\">\r\n      <h2 className=\"text-3xl font-bold text-music-primary mb-4\">\r\n        Discover and Follow Artists\r\n      </h2>\r\n      {error && <div className=\"bg-red-500 p-3 rounded mb-4\">{error}</div>}\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {artists.map((artist) => (\r\n          <div\r\n            key={artist.id}\r\n            className=\"bg-gray-800 rounded p-4 shadow hover:shadow-lg transition\"\r\n          >\r\n            <h3 className=\"text-xl font-semibold\">{artist.name}</h3>\r\n            <p className=\"text-sm text-music-secondary\">{artist.genre}</p>\r\n            <button\r\n              onClick={() => toggleFollow(artist.id, artist.isFollowing)}\r\n              className={`mt-4 py-2 px-4 rounded ${\r\n                artist.isFollowing\r\n                  ? \"bg-red-600 hover:bg-red-700\"\r\n                  : \"bg-music-primary hover:bg-green-600\"\r\n              }`}\r\n            >\r\n              {artist.isFollowing ? \"Unfollow\" : \"Follow\"}\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FollowArtist;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}