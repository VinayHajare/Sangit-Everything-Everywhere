{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vinay Hajare\\\\React Projects\\\\music-streaming-frontend\\\\src\\\\components\\\\Discover\\\\PlaybackHistory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport api from \"../../utils/api\";\nimport { usePlayer } from \"../../contexts/PlayerContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PlaybackHistory = () => {\n  _s();\n  const [history, sethistory] = useState([]);\n  const [error, setError] = useState(\"\");\n  const {\n    playSong\n  } = usePlayer(); // Get playSong from PlayerContext\n\n  useEffect(() => {\n    const fetchHistory = async () => {\n      try {\n        const response = await api.get(\"/playback-history\");\n        sethistory(response.data);\n        setError(\"\");\n      } catch (error) {\n        setError(\"Failed to fetch playback history. Please try again.\");\n      }\n    };\n    fetchHistory();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-music-background text-white p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-music-primary mb-4\",\n      children: \"Playback History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-500 p-3 rounded mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: history.map(entry => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded p-4 shadow hover:shadow-lg transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold\",\n          children: entry.songTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-music-secondary\",\n          children: entry.artistName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-music-secondary\",\n          children: [\"Played on: \", new Date(entry.playbackDate).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => playSong({\n            id: entry.songId,\n            title: entry.songTitle\n          }),\n          className: \"mt-2 bg-music-primary text-black py-1 px-4 rounded hover:bg-green-600\",\n          children: \"Play Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)]\n      }, entry.songId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n_s(PlaybackHistory, \"i1hIZbYsxtxcl428QLx8AMYG3so=\", false, function () {\n  return [usePlayer];\n});\n_c = PlaybackHistory;\nexport default PlaybackHistory;\nvar _c;\n$RefreshReg$(_c, \"PlaybackHistory\");","map":{"version":3,"names":["React","useState","useEffect","api","usePlayer","jsxDEV","_jsxDEV","PlaybackHistory","_s","history","sethistory","error","setError","playSong","fetchHistory","response","get","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","entry","songTitle","artistName","Date","playbackDate","toLocaleString","onClick","id","songId","title","_c","$RefreshReg$"],"sources":["D:/Vinay Hajare/React Projects/music-streaming-frontend/src/components/Discover/PlaybackHistory.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport api from \"../../utils/api\";\r\nimport { usePlayer } from \"../../contexts/PlayerContext\";\r\n\r\nconst PlaybackHistory = () => {\r\n  const [history, sethistory] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const { playSong } = usePlayer(); // Get playSong from PlayerContext\r\n\r\n  useEffect(() => {\r\n    const fetchHistory = async () => {\r\n      try {\r\n        const response = await api.get(\"/playback-history\");\r\n        sethistory(response.data);\r\n        setError(\"\");\r\n      } catch (error) {\r\n        setError(\"Failed to fetch playback history. Please try again.\");\r\n      }\r\n    };\r\n\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-music-background text-white p-6\">\r\n      <h2 className=\"text-3xl font-bold text-music-primary mb-4\">\r\n        Playback History\r\n      </h2>\r\n      {error && <div className=\"bg-red-500 p-3 rounded mb-4\">{error}</div>}\r\n\r\n      {/* Playback History List*/}\r\n      <div className=\"space-y-4\">\r\n        {history.map((entry) => (\r\n          <div\r\n            key={entry.songId}\r\n            className=\"bg-gray-800 rounded p-4 shadow hover:shadow-lg transition\"\r\n          >\r\n            <h3 className=\"text-xl font-semibold\">{entry.songTitle}</h3>\r\n            <p className=\"text-sm text-music-secondary\">{entry.artistName}</p>\r\n            <p className=\"text-sm text-music-secondary\">\r\n              Played on: {new Date(entry.playbackDate).toLocaleString()}\r\n            </p>\r\n            <button\r\n              onClick={() =>\r\n                playSong({ id: entry.songId, title: entry.songTitle })\r\n              }\r\n              className=\"mt-2 bg-music-primary text-black py-1 px-4 rounded hover:bg-green-600\"\r\n            >\r\n              Play Again\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaybackHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}